buildscript {
	repositories {
		google()
		mavenCentral()
	}
	dependencies {
		classpath 'com.android.tools.build:gradle:7.4.0'
		classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0'
		classpath 'com.google.dagger:hilt-android-gradle-plugin:2.44'
	}
}

allprojects {
	repositories {
		google()
		mavenCentral()
		maven {
			url 'https://jitpack.io'
		}
	}
}

String localProperty(String name, String defaultValue = 'null') {
	Properties localProperties = new Properties()
	project.rootProject.file('local.properties').withInputStream { localProperties.load(it) }

	def value = localProperties[name]

	return value != null ? value : defaultValue
}

String currentBranch() {
	def branchName = ""
	try {
		branchName = "git rev-parse --abbrev-ref HEAD".execute().text.trim()
	} catch (ignored) {
		println "Git not found"
	}
	return branchName
}

task clean(type: Delete) {
	delete rootProject.buildDir
}
